## 内存的物理结构和工作原理
转载 2014年04月22日 17:06:42 标签：存储 /结构 1263
内存的物理结构和工作原理

作者：xiaofeng　来源：PConline　发布时间：2012-11-01　

　　内存也叫主存，是PC系统存放数据与指令的半导体存储器单元，也叫主存储器（Main Memory），通常分为只读存储器（ROM-Read Only Memory）、随机存储器（RAM-Red Access Memory）和高速缓存存储器（Cache）。我们平常所指的内存条其实就是RAM，其主要的作用是存放各种输入、输出数据和中间计算结果，以及与外部存储器交换信息时做缓冲之用。

### 结构
#### 1、PCB板

　　内存条的PCB板多数都是绿色的。如今的电路板设计都很精密，所以都采用了多层设计，例如4层或6层等，所以PCB板实际上是分层的，其内部也有金属的布线。理论上6层PCB板比4层PCB板的电气性能要好，性能也较稳定，所以名牌内存多采用6层PCB板制造。因为PCB板制造严密，所以从肉眼上较难分辩PCB板是4层或6层，只能借助一些印在PCB板上的符号或标识来断定。

#### 2、金手指

　　黄色的接触点是内存与主板内存槽接触的部分，数据就是靠它们来传输的，通常称为金手指。金手指是铜质导线，使用时间长就可能有氧化的现象，会影响内存的正常工作，易发生无法开机的故障，所以可以隔一年左右时间用橡皮擦清理一下金手指上的氧化物。 

#### 3、内存芯片

　　内存的芯片就是内存的灵魂所在，内存的性能、速度、容量都是由内存芯片组成的。

#### 4、内存颗粒空位

　　		在内存条上你可能常看到这样的空位，这是因为采用的封装模式预留了一片内存芯片为其他采用这种封装模式的内存条使用。这块内存条就是使用9片装PCB，预留ECC校验模块位置。

#### 5、电容

　　		PCB板上必不可少的电子元件就是电容和电阻了，这是为了提高电气性能的需要。电容采用贴片式电容，因为内存条的体积较小，不可能使用直立式电容，但这种贴片式电容性能一点不差，它为提高内存条的稳定性起了很大作用。

#### 6、电阻

　　电阻也是采用贴片式设计，一般好的内存条电阻的分布规划也很整齐合理。

#### 7、内存固定卡缺口

　　内存插到主板上后，主板上的内存插槽会有两个夹子牢固的扣住内存，这个缺口便是用于固定内存用的。

#### 8、内存脚缺口

　　		内存的脚上的缺口一是用来防止内存插反的（只有一侧有），二是用来区分不同的内存，以前的SDRAM内存条是有两个缺口的，而DDR则只有一个缺口，不能混插。

#### 9、SPD

　　SPD是一个八脚的小芯片，它实际上是一个EEPROM可擦写存贮器，这的容量有256字节，可以写入一点信息，这信息中就可以包括内存的标准工作状态、速度、响应时间等，以协调计算机系统更好的工作。从PC100时代开始，PC100规准中就规定符合PC100标准的内存条必须安装SPD，而且主板也可以从SPD中读取到内存的信息，并按SPD的规定来使内存获得最佳的工作环境。

### 内存工作原理
#### 1、内存寻址

　　		首先，内存从CPU获得查找某个数据的指令，然后再找出存取资料的位置时（这个动作称为“寻址”），它先定出横坐标（也就是“列地址”）再定出纵坐标（也就是“行地址”），这就好像在地图上画个十字标记一样，非常准确地定出这个地方。对于电脑系统而言，找出这个地方时还必须确定是否位置正确，因此电脑还必须判读该地址的信号，横坐标有横坐标的信号（也就是RAS信号，Row Address Strobe）纵坐标有纵坐标的信号（也就是CAS信号，Column Address Strobe），最后再进行读或写的动作。

#### 2、内存传输

　　		为了储存资料，或者是从内存内部读取资料，CPU都会为这些读取或写入的资料编上地址（也就是我们所说的十字寻址方式），这个时候，CPU会通过地址总线（Address Bus）将地址送到内存，然后数据总线（Data Bus）就会把对应的正确数据送往微处理器，传回去给CPU使用。

#### 3、存取时间

　　		存取时间，指的是CPU读或写内存内资料的过程时间，也称为总线循环（bus cycle）。以读取为例，从CPU发出指令给内存时，便会要求内存取用特定地址的特定资料，内存响应CPU后便会将CPU所需要的资料送给CPU，一直到CPU收到数据为止，便成为一个读取的流程。因此，这整个过程简单地说便是CPU给出读取指令，内存回复指令，并丢出资料给CPU的过程。我们常说的6ns（纳秒，秒－9）就是指上述的过程所花费的时间，而ns便是计算运算过程的时间单位。我们平时习惯用存取时间的倒数来表示速度，比如6ns的内存实际频率为1s／6ns＝166MHz（如果是DDR就标DDR333，DDR2就标DDR2 667).

- `MHz `
兆赫（Mega Hertz, MHz）是波动频率单位之一。波动频率的基本单位是赫兹，采千进位制；1兆赫相当于1000千赫（KHz），也就是10^6赫兹。值得注意的是，兆赫只是一定义上的名词，在量度单位上作100万解。

#### 4、内存延迟

　　内存的延迟时间(也就是所谓的潜伏期，从FSB到DRAM)等于下列时间的综合：FSB同主板芯片组之间的延迟时间(±1个时钟周期)，芯片组同DRAM之间的延迟时间(±1个时钟周期)，RAS到CAS延迟时间：RAS(2-3个时钟周期,用于决定正确的行地址)，CAS延迟时间 (2-3时钟周期,用于决定正确的列地址)，另外还需要1个时钟周期来传送数据，数据从DRAM输出缓存通过芯片组到CPU的延迟时间(±2个时钟周期)。一般的说明内存延迟涉及四个参数CAS（Column Address Strobe 行地址控制器）延迟，RAS（Row Address Strobe列地址控制器）－to－CAS延迟，RAS Precharge（RAS预冲电压）延迟，Act-to-Precharge（相对于时钟下沿的数据读取时间）延迟。其中CAS延迟比较重要，它反映了内存从接受指令到完成传输结果的过程中的延迟。大家平时见到的数据3—3—3—6中，第一参数就是CAS延迟（CL＝3）。当然，延迟越小速度越快。