###C语言中数组名和指针的区别

```
  #include <iostream>
  int main()
  {
     char str[10];
     char *pStr = str;
     cout << sizeof(str) << endl;
     cout << sizeof(pStr) << endl;
     return 0;
  }
```

#### 1、数组名不是指针 
　　我们先来推翻"数组名就是指针"的说法，用反证法。
　　证明　数组名不是指针
　　假设：数组名是指针； 
　　则：pStr和str都是指针； 

　　因为：在WIN32平台下，指针长度为4； 
　　所以：第6行和第7行的输出都应该为4； 

　　实际情况是：第6行输出10，第7行输出4； 

　　所以：假设不成立，数组名不是指针 

#### 2、数组名神似指针 

　　上面我们已经证明了数组名的确不是指针，但是我们再看看程序的第5行。该行程序将数组名直接赋值给指针，这显得数组名又的确是个指针！ 

　　我们还可以发现数组名显得像指针的例子： 

```

 #include <string.h>
 
 #include <iostream.h>
 
int main(int argc, char* argv[])

{

   char str1[10] = "I Love U";
   
   char str2[10];
   strcpy(str2,str1);
   cout << "string array 1: " << str1 << endl;
   cout << "string array 2: " << str2 << endl;
   return 0;
}
```　

标准C库函数strcpy的函数原形中能接纳的两个参数都为char型指针，而我们在调用中传给它的却是两个数组名！函数输出： 
      string array 1: I Love U 
      string array 2: I Love U
数组名再一次显得像指针！ 

　　既然数组名不是指针，而为什么到处都把数组名当指针用？于是乎，许多程序员得出这样的结论：数组名（主）是（谓）不是指针的指针（宾）。 

　　整个一魔鬼。 

揭密数组名 

　　现在到揭露数组名本质的时候了，先给出三个结论： 

　　(1) 数组名的内涵在于其指代实体是一种数据结构，这种数据结构就是数组； 

　　(2) 数组名的外延在于其可以转换为指向其指代实体的指针，而且是一个指针常量； 

　　(3) 指向数组的指针则是另外一种变量类型（在WIN32平台下，长度为4），仅仅意味着数组的存放地址！ 

　　1、数组名指代一种数据结构：数组 

　　现在可以解释为什么第1个程序第6行的输出为10的问题，根据结论1，数组名str的内涵为一种数据结构，即一个长度为10的char型数组，所以sizeof(str)的结果为这个数据结构占据的内存大小：10字节。 

　　再看：
      int intArray[10];
      cout << sizeof(intArray) ;

　　第2行的输出结果为40（整型数组占据的内存空间大小）。 

　　2、数组名可作为指针常量 

　　根据结论2，数组名可以转换为指向其指代实体的指针，所以程序1中的第5行数组名直接赋值给指针，程序2第7行直接将数组名作为指针形参都可成立。 

　　下面的程序成立吗？ 
           int intArray[10];
           intArray++;

　　读者可以编译之，发现编译出错。原因在于，虽然数组名可以转换为指向其指代实体的指针，但是它只能被看作一个指针常量，不能被修改。 

　　而指针，不管是指向结构体、数组还是基本数据类型的指针，都不包含原始数据结构的内涵，在WIN32平台下，sizeof操作的结果都是4。

      顺便纠正一下许多程序员的另一个误解。许多程序员以为sizeof是一个函数，而实际上，它是一个操作符，不过其使用方式看起来的确太像一个函数了。语句 sizeof(int)就可以说明sizeof的确不是一个函数，因为函数接纳形参（一个变量），世界上没有一个C/C++函数接纳一个数据类型（如 int）为"形参"。 

　　3、数组名可能失去其数据结构内涵 

　　到这里似乎数组名魔幻问题已经宣告圆满解决，但是平静的湖面上却再次掀起波浪。请看下面一段程序： 
复制代码
 1 #include <iostream>
 2 void arrayTest(char str[])
 3 {
 4  　cout << sizeof(str) << endl;
 5 }
 6 int main()
 7 {
 8  　char str1[10] = "I Love U";
 9  　arrayTest(str1);
10 　 return 0;
11 }
复制代码
　　程序的输出结果为4。不可能吧？ 

　　一个可怕的数字，前面已经提到其为指针的长度! 

　　结论1指出，数组名内涵为数组这种数据结构，在arrayTest函数体内，str是数组名，那为什么sizeof的结果却是指针的长度？
 
     这是因为： 

　　(1) 数组名作为函数形参时，在函数体内，其失去了本身的内涵，仅仅只是一个指针； 

　　(2) 很遗憾，在失去其内涵的同时，它还失去了其常量特性，可以作自增、自减等操作，可以被修改。 

　　所以，数组名作为函数形参时，其全面沦落为一个普通指针！它的贵族身份被剥夺，成了一个地地道道的只拥有4个字节的平民。